{% extends 'base.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
    </style>
{% endblock %}

{% block body %}
    {% if app.user %}
            <script>
                function RedirectionJavascript(){
                    document.location.href="/"; 
                }
                RedirectionJavascript();
            </script>
    {% endif %}
    {{ parent() }}
    <div class="container-2 position-absolute top-50 start-50 translate-middle">
        <div class="form-container">
            <p class="title">{{"Create_Account" |trans }}</p>
            {{ form_errors(registrationForm) }}
            {{ form_start(registrationForm, {'attr': {'class': 'form'}}) }}
                <div class="input-group">
                    {{ form_label(registrationForm.firstName, 'FirstName') }}
                    {{ form_widget(registrationForm.firstName, {
                        'attr': {
                            'class': 'input-group input',
                            'placeholder': 'FirstName'
                        }
                    }) }}
                </div>

                <div class="input-group">
                    {{ form_label(registrationForm.lastName, 'LastName') }}
                    {{ form_widget(registrationForm.lastName, {
                        'attr': {
                            'class': 'input-group input',
                            'placeholder': 'LastName'
                        }
                    }) }}
                </div>
                <div class="input-group">
                    {{ form_label(registrationForm.email, 'Email') }}
                    {{ form_widget(registrationForm.email, {
                        'attr': {
                            'class': 'input-group input',
                            'placeholder': 'Email'
                        }
                    }) }}
                    {% if registrationForm.email.vars.errors|length > 0 and registrationForm.vars.submitted %}
                        <div class="alert alert-danger">
                            {{ form_errors(registrationForm.email) }}
                        </div>
                    {% endif %}
                </div>

                <div class="input-group">
                    {{ form_label(registrationForm.plainPassword.first, 'Password') }}
                    {{ form_widget(registrationForm.plainPassword.first, {
                        'attr': {
                            'class': 'input-group input',
                            'placeholder': 'Password'
                        }
                    }) }}
                </div>

                <div class="input-group">
                    {{ form_label(registrationForm.plainPassword.second, 'Password_Comfirmation') }}
                    {{ form_widget(registrationForm.plainPassword.second, {
                        'attr': {
                            'class': 'input-group input',
                            'placeholder': 'Password_Comfirmation'
                        }
                    }) }}
                </div>

                <div class="checkbox-group">
                    {{ form_widget(registrationForm.agreeTerms) }}
                    {{ form_label(registrationForm.agreeTerms, "AgreeTerms") }}
                </div>


                <button type="submit" class="sign" onclick="">{{"Create_Account" |trans }}</button>

            {{ form_end(registrationForm) }}
            
            <br>
            <p class="signup">{{"Already_Account" |trans}}
                <a href="{{ path('app_login') }}">{{"Log_In" |trans}}</a>
            </p>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {% block importmap %}{{ importmap('app') }}{% endblock %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}